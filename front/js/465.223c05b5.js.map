{"version":3,"file":"js/465.223c05b5.js","mappings":"6KAUSA,MAAM,iBAAiBC,MAAA,wB,SAOOD,MAAM,a,SAQvBA,MAAM,e,uJAxB1BE,EAAAA,EAAAA,IA8BM,aA7BJC,EAAAA,EAAAA,IAMEC,EAAA,CALAC,MAAM,OACN,YAAU,KACV,gBACAC,MAAA,GACCC,YAAYC,EAAAC,Q,yBAGfC,EAAAA,EAAAA,IAoBM,MApBNC,EAoBM,EAnBJR,EAAAA,EAAAA,IAkBmBS,EAAA,C,WAlBQJ,EAAAK,W,qCAAAL,EAAAK,WAAUC,GAAGC,UAASP,EAAAO,W,kBAC/C,IAgBW,EAhBXZ,EAAAA,EAAAA,IAgBWa,EAAA,CAfDC,QAAST,EAAAS,Q,kCAAAT,EAAAS,QAAOH,GACvBI,SAAUV,EAAAU,SACX,gBAAc,S,kBAJgC,IAgBxD,CAVqBV,EAAAW,MAAMC,OAAS,I,WAA1BlB,EAAAA,EAAAA,IAOM,MAPNmB,EAOM,G,aANJnB,EAAAA,EAAAA,IAKEoB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJef,EAAAW,MAARK,K,WADTC,EAAAA,EAAAA,IAKEC,EAAA,CAHCC,IAAKH,EAAKI,GACVvB,MAAOmB,EAAKK,KACZC,MAAK,SAAaN,EAAKO,M,kDAG5B7B,EAAAA,EAAAA,IAEM,MAFN8B,EAEMC,EAAA,KAAAA,EAAA,KADJvB,EAAAA,EAAAA,IAAgB,SAAb,aAAS,S,mHAcxB,GACEmB,KAAM,eACNK,MAAO,CACLN,GAAI,CACFO,KAAM,CAACC,OAAQC,QACfC,UAAU,IAGdC,KAAAA,CAAML,GACJ,MAAMM,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MACRxB,GAAQyB,EAAAA,EAAAA,IAAI,IACZ3B,GAAU2B,EAAAA,EAAAA,KAAI,GACd1B,GAAW0B,EAAAA,EAAAA,KAAI,GACf/B,GAAa+B,EAAAA,EAAAA,KAAI,GAGjBC,EAAaC,UACjB,IACE7B,EAAQ8B,OAAQ,EAChB,MAAMC,EAAad,EAAMN,IAAMc,EAAMO,OAAOrB,GACtCsB,QAAYC,EAAAA,EAAAA,IAAsBH,GACxC7B,EAAM4B,MAAQG,EAAIE,KAAKA,MAAQ,GAC/BnC,EAAQ8B,OAAQ,EAChB7B,EAAS6B,OAAQ,CACnB,CAAE,MAAOM,GACPC,QAAQD,MAAM,YAAaA,GAC3BE,EAAAA,GAAMC,KAAK,YACXvC,EAAQ8B,OAAQ,CAClB,GAIIhC,EAAYA,KAChB8B,IAAaY,KAAK,KAChB5C,EAAWkC,OAAQ,EACnBQ,EAAAA,GAAMG,QAAQ,WAKZjD,EAASA,KACb+B,EAAOmB,QAOT,OAJAC,EAAAA,EAAAA,IAAU,KACRf,MAGK,CACL1B,QACAF,UACAC,WACAL,aACAE,YACAN,SAEJ,G,UC1FF,MAAMoD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://fornt/./src/views/ExamList.vue","webpack://fornt/./src/views/ExamList.vue?0959"],"sourcesContent":["<template>\n  <div>\n    <van-nav-bar \n      title=\"试卷列表\" \n      left-text=\"返回\"\n      left-arrow\n      fixed\n      @click-left=\"goBack\"\n    />\n    \n    <div class=\"page-container\" style=\"padding-top: 56px;\">\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n        <van-list\n          v-model:loading=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"没有更多了\"\n        >\n          <div v-if=\"exams.length > 0\" class=\"exam-list\">\n            <van-cell \n              v-for=\"exam in exams\" \n              :key=\"exam.id\"\n              :title=\"exam.name\"\n              :label=\"'文件路径: ' + exam.path\"\n            />\n          </div>\n          <div v-else class=\"empty-state\">\n            <p>暂无试卷，请先上传</p>\n          </div>\n        </van-list>\n      </van-pull-refresh>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { Toast } from 'vant'\nimport { getExamListByCategory } from '../api/exambase'\n\nexport default {\n  name: 'ExamListPage',\n  props: {\n    id: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n    const route = useRoute()\n    const exams = ref([])\n    const loading = ref(false)\n    const finished = ref(true)\n    const refreshing = ref(false)\n    \n    // 获取试卷列表\n    const fetchExams = async () => {\n      try {\n        loading.value = true\n        const categoryId = props.id || route.params.id\n        const res = await getExamListByCategory(categoryId)\n        exams.value = res.data.data || []\n        loading.value = false\n        finished.value = true\n      } catch (error) {\n        console.error('获取试卷列表失败:', error)\n        Toast.fail('获取试卷列表失败')\n        loading.value = false\n      }\n    }\n    \n    // 下拉刷新\n    const onRefresh = () => {\n      fetchExams().then(() => {\n        refreshing.value = false\n        Toast.success('刷新成功')\n      })\n    }\n    \n    // 返回上一页\n    const goBack = () => {\n      router.back()\n    }\n    \n    onMounted(() => {\n      fetchExams()\n    })\n    \n    return {\n      exams,\n      loading,\n      finished,\n      refreshing,\n      onRefresh,\n      goBack\n    }\n  }\n}\n</script>\n\n<style scoped>\n.exam-list {\n  margin-top: 16px;\n}\n\n.empty-state {\n  padding: 40px 0;\n  text-align: center;\n  color: #969799;\n}\n</style>","import { render } from \"./ExamList.vue?vue&type=template&id=21d5379e&scoped=true\"\nimport script from \"./ExamList.vue?vue&type=script&lang=js\"\nexport * from \"./ExamList.vue?vue&type=script&lang=js\"\n\nimport \"./ExamList.vue?vue&type=style&index=0&id=21d5379e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21d5379e\"]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_createVNode","_component_van_nav_bar","title","fixed","onClickLeft","$setup","goBack","_createElementVNode","_hoisted_1","_component_van_pull_refresh","refreshing","$event","onRefresh","_component_van_list","loading","finished","exams","length","_hoisted_2","_Fragment","_renderList","exam","_createBlock","_component_van_cell","key","id","name","label","path","_hoisted_3","_cache","props","type","String","Number","required","setup","router","useRouter","route","useRoute","ref","fetchExams","async","value","categoryId","params","res","getExamListByCategory","data","error","console","Toast","fail","then","success","back","onMounted","__exports__","render"],"sourceRoot":""}