"use strict";(self["webpackChunkfornt"]=self["webpackChunkfornt"]||[]).push([[449],{6830:function(e,a,n){n.r(a),n.d(a,{default:function(){return r}});var o=n(6768);const t={class:"search-container"};function i(e,a,n,i,s,l){const c=(0,o.g2)("van-nav-bar"),r=(0,o.g2)("van-search"),d=(0,o.g2)("van-cell"),h=(0,o.g2)("van-list");return(0,o.uX)(),(0,o.CE)("div",t,[(0,o.bF)(c,{title:"试卷搜索","left-text":"返回","left-arrow":"",onClickLeft:l.goBack},null,8,["onClickLeft"]),(0,o.bF)(r,{modelValue:s.searchKeyword,"onUpdate:modelValue":a[1]||(a[1]=e=>s.searchKeyword=e),placeholder:"请输入试卷名称","show-action":"",onSearch:l.onSearch},{action:(0,o.k6)(()=>[(0,o.Lk)("div",{onClick:a[0]||(a[0]=(...e)=>l.onSearch&&l.onSearch(...e))},"搜索")]),_:1},8,["modelValue","onSearch"]),(0,o.bF)(h,{loading:s.loading,"onUpdate:loading":a[2]||(a[2]=e=>s.loading=e),finished:s.finished,"finished-text":"没有更多了",onLoad:l.onLoad,"immediate-check":!1},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.searchResults,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.id,title:e.name,label:`分类：${e.categoryName}`,"is-link":"",onClick:a=>i.openPdf(e.path)},null,8,["title","label","onClick"]))),128))]),_:1},8,["loading","finished","onLoad"])])}var s={name:"ExamSearch",data(){return{searchKeyword:"",searchResults:[],loading:!1,finished:!1}},methods:{onSearch(){console.log("search!!!!!!"),this.searchResults=[],this.finished=!1,this.onLoad()},async onLoad(){if(this.searchKeyword.trim()){console.log("load!!!!!!");try{this.loading=!0;const e=await this.$api.searchExam(this.searchKeyword);this.searchResults=e.data.data,this.finished=!0}catch(e){console.error("搜索失败:",e),this.$toast.fail("搜索失败")}finally{this.loading=!1}}},goBack(){this.$router.go(-1)}},setup(){const e=e=>{const a=`/upload-files/${e}`;window.open(a,"_blank")};return{openPdf:e}}},l=n(1241);const c=(0,l.A)(s,[["render",i],["__scopeId","data-v-b5cbb464"]]);var r=c}}]);
//# sourceMappingURL=449.a01b1252.js.map